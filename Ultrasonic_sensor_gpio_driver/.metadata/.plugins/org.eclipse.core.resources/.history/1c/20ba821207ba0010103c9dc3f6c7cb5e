#include "stm32l.h"

#include "ultrasonic.h"

int main(void)
{
    HAL_Init();
    SystemClock_Config();
    MX_GPIO_Init();
    MX_TIM2_Init();

    Ultrasonic_Init();

    while (1)
    {
        float dist = Ultrasonic_Read();

        if (dist < 0)
        {
            // timeout or no object
        }
        else
        {
            // use 'dist' (in cm)
        }

        HAL_Delay(200);
    }
}

